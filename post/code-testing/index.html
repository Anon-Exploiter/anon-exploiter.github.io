<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Python Code Testing! :: Umar_0x01 – Pentester | Programmer | Your average sakurity guy ( ͡~ ͜ʖ ͡°) — Security Researcher, Penetration Tester, Weeb, !Dank Memer, and a guy who loves to automate the shit out of everything! :)</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Testing Code from jmespath import search as queryJson from re import findall as parseRegex from pygments import highlight, lexers, formatters from requests import get from json import loads, dumps from time import sleep from io import StringIO from config import * from config.config import _usage import botocore import boto3 import argparse class S3: def __init__(self, bucket): self.bucket = bucket def parseJson(self, query, jsonObj): return(queryJson(query, jsonObj)) def prettifyJSON(self, jsonObject): return(highlight(jsonObject, lexers."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://anon-exploiter.github.io/post/code-testing/" />








<link rel="stylesheet" href="https://anon-exploiter.github.io/css/style.min.css">


<link rel="stylesheet" href="https://anon-exploiter.github.io/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://anon-exploiter.github.io/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://anon-exploiter.github.io/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python Code Testing!"/>
<meta name="twitter:description" content="Syntax highlighting testing"/>



<meta property="og:title" content="Python Code Testing!" />
<meta property="og:description" content="Syntax highlighting testing" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://anon-exploiter.github.io/post/code-testing/" />
<meta property="article:published_time" content="2020-09-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-03T00:00:00+00:00" /><meta property="og:site_name" content="Umar_0x01 – Pentester | Programmer | Your average sakurity guy ( ͡~ ͜ʖ ͡°)" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">UeXploiT</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/archive">Archive</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/archive">Archive</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title"><a href="https://anon-exploiter.github.io/post/code-testing/">Python Code Testing!</a></h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-09-03
        </span>

        
          
        
      

      <span class="post-author">— Written by Umar_0x01</span>
      
        <span class="post-read-time">— 6 min read</span>
      
    </div>

    

    
      <figure class="post-cover">
        
          <img src="https://anon-exploiter.github.io/img/hello.jpg" alt="Python Code Testing!" />
        

        
      </figure>
    

    <div class="post-content">
      
      <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<h1 id="testing-code">Testing Code</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> jmespath <span style="color:#f92672">import</span> search <span style="color:#66d9ef">as</span> queryJson
<span style="color:#f92672">from</span> re <span style="color:#f92672">import</span> findall <span style="color:#66d9ef">as</span> parseRegex
<span style="color:#f92672">from</span> pygments <span style="color:#f92672">import</span> highlight, lexers, formatters
<span style="color:#f92672">from</span> requests <span style="color:#f92672">import</span> get
<span style="color:#f92672">from</span> json <span style="color:#f92672">import</span> loads, dumps
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep
<span style="color:#f92672">from</span> io <span style="color:#f92672">import</span> StringIO
<span style="color:#f92672">from</span> config <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
<span style="color:#f92672">from</span> config.config <span style="color:#f92672">import</span> _usage
<span style="color:#f92672">import</span> botocore
<span style="color:#f92672">import</span> boto3
<span style="color:#f92672">import</span> argparse

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">S3</span>:
	<span style="color:#66d9ef">def</span> __init__(self, bucket):
		self<span style="color:#f92672">.</span>bucket 	<span style="color:#f92672">=</span> bucket

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">parseJson</span>(self, query, jsonObj):
		<span style="color:#66d9ef">return</span>(queryJson(query, jsonObj))

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">prettifyJSON</span>(self, jsonObject):
		<span style="color:#66d9ef">return</span>(highlight(jsonObject, lexers<span style="color:#f92672">.</span>JsonLexer(), formatters<span style="color:#f92672">.</span>TerminalFormatter()))

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">authorizedClientCall</span>(self):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Makes Authorized Client call to S3 (picks up access keys from ~/.aws/)
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		client 		<span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#34;s3&#34;</span>)
		<span style="color:#66d9ef">return</span>(client)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">unAuthorizedClientCall</span>(self):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Makes Unauthorized Client call to S3 (i.e. without access keys)
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		client 		<span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#34;s3&#34;</span>, config<span style="color:#f92672">=</span>botocore<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>Config(signature_version<span style="color:#f92672">=</span>botocore<span style="color:#f92672">.</span>UNSIGNED))
		<span style="color:#66d9ef">return</span>(client)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getBucketLocation</span>(self, bucketName):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Returns bucket[&#39;LocationConstraint&#39;]
</span><span style="color:#e6db74">		Doesn&#39;t work with unsigned requests
</span><span style="color:#e6db74">		So, had to come up with a solution of mine B)
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		_bucket 		<span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;http://{bucketName}.s3.eu-west-1.amazonaws.com&#34;</span>
		request 		<span style="color:#f92672">=</span> get(_bucket)
		sourceCode 		<span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>content<span style="color:#f92672">.</span>decode(<span style="color:#e6db74">&#39;UTF-8&#39;</span>)
		regex 			<span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\&lt;Endpoint\&gt;(.*?)\&lt;\/Endpoint\&gt;&#39;</span>
		location 		<span style="color:#f92672">=</span> parseRegex(regex, sourceCode)
		result 			<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
		
		<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;s3.amazonaws.com&#34;</span> <span style="color:#f92672">in</span> str(location): 
			result 		<span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;http://{bucketName}.{location[0]}&#34;</span>
		
		<span style="color:#66d9ef">elif</span> len(location) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>: 
			result 		<span style="color:#f92672">=</span> _bucket
		
		<span style="color:#66d9ef">else</span>: 
			result 		<span style="color:#f92672">=</span> f<span style="color:#e6db74">&#34;http://{location[0]}&#34;</span>

		write(var<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>result)
		<span style="color:#66d9ef">return</span>(result)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fetchBucketACL</span>(self, clientCall, bucketName):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		As the name of the function depicts: It fetches / downloads `ACLs` of the bucket...
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>

		<span style="color:#66d9ef">try</span>:
		    response 	<span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>get_bucket_acl(Bucket<span style="color:#f92672">=</span>bucketName)
		    <span style="color:#66d9ef">print</span>(self<span style="color:#f92672">.</span>prettifyJSON(dumps( self<span style="color:#f92672">.</span>parseJson(<span style="color:#e6db74">&#34;Grants&#34;</span>, response), indent<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> )))

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetBucketAcl&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we can&#39;t fetch the {r}ACL{w} of this bucket :(&#34;</span>)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">overWriteBucketACL</span>(self, clientCall, bucketName):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Overwrites the current ACL of the bucket even if we aren&#39;t able to fetch the ACL of the bucket
</span><span style="color:#e6db74">		Sounds crazy! huh!?
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		bucketACL <span style="color:#f92672">=</span> {
	        <span style="color:#e6db74">&#39;Owner&#39;</span>: {
	            <span style="color:#e6db74">&#39;ID&#39;</span>: <span style="color:#e6db74">&#39;694f79fd87bab72d3576779c0a2308cc3b2006dfe0e76105562755d701e8c2e1&#39;</span>
	        },
	        <span style="color:#e6db74">&#39;Grants&#39;</span>: [
	            {
	                <span style="color:#e6db74">&#39;Grantee&#39;</span>: {
	                    <span style="color:#e6db74">&#39;Type&#39;</span>: <span style="color:#e6db74">&#39;Group&#39;</span>,
	                    <span style="color:#e6db74">&#39;URI&#39;</span>: <span style="color:#e6db74">&#39;http://acs.amazonaws.com/groups/global/AllUsers&#39;</span>
	                },
	                <span style="color:#e6db74">&#39;Permission&#39;</span>: <span style="color:#e6db74">&#39;FULL_CONTROL&#39;</span>
	            },
	        ],
	    }

		<span style="color:#66d9ef">try</span>:
			ACL 	<span style="color:#f92672">=</span> loads(dumps((<span style="color:#66d9ef">lambda</span> c, b: c<span style="color:#f92672">.</span>get_bucket_acl(Bucket<span style="color:#f92672">=</span>b))(clientCall, bucketName)))[<span style="color:#e6db74">&#39;Grants&#39;</span>][<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;Permission&#39;</span>]
			
			<span style="color:#66d9ef">if</span> ACL <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;FULL_CONTROL&#39;</span>:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{c}#&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we already have {g}FULL_CONTROL{w} over the bucket! :P</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
				<span style="color:#66d9ef">return</span>

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetBucketAcl&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]: <span style="color:#66d9ef">pass</span>

		<span style="color:#66d9ef">try</span>: 
			putACL 	<span style="color:#f92672">=</span> (<span style="color:#66d9ef">lambda</span> a, b, c: a<span style="color:#f92672">.</span>put_bucket_acl(Bucket<span style="color:#f92672">=</span>b, AccessControlPolicy<span style="color:#f92672">=</span>c))(clientCall, bucketName, bucketACL)
			write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{c}#&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we were able to {g}overwrite{w} the ACL of the bucket, lets confirm {y}:)</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)

			<span style="color:#66d9ef">try</span>:
				bucketACL 	<span style="color:#f92672">=</span> loads(dumps((<span style="color:#66d9ef">lambda</span> c, b: c<span style="color:#f92672">.</span>get_bucket_acl(Bucket<span style="color:#f92672">=</span>b))(clientCall, bucketName)))[<span style="color:#e6db74">&#39;Grants&#39;</span>][<span style="color:#ae81ff">0</span>]
				<span style="color:#66d9ef">print</span>(self<span style="color:#f92672">.</span>prettifyJSON(dumps(bucketACL, indent<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)))
				permissions	<span style="color:#f92672">=</span> bucketACL[<span style="color:#e6db74">&#39;Permission&#39;</span>]
				URI 		<span style="color:#f92672">=</span> bucketACL[<span style="color:#e6db74">&#39;Grantee&#39;</span>][<span style="color:#e6db74">&#39;URI&#39;</span>]

				<span style="color:#66d9ef">if</span> (URI <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;http://acs.amazonaws.com/groups/global/AllUsers&#34;</span> <span style="color:#f92672">and</span> permissions <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FULL_CONTROL&#34;</span>):
					write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{c}$&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}Hell yeah{w}, {g}we did it{w}!&#34;</span>)

				<span style="color:#66d9ef">else</span>:
					write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}weren&#39;t successful{w} in over-writing the {c}ACL{w} of the bucket! {r}:(&#34;</span>)

			<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
				<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetBucketAcl&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]: write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}weren&#39;t successful{w} in over-writing the {c}ACL{w} of the bucket! {r}:(&#34;</span>)

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;PutBucketAcl&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]: write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we can&#39;t {r}overwrite{w} the {r}ACL{w} of this bucket :(&#34;</span>)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">listBucket</span>(self, clientCall):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Lists the objects in the buckets both through authorized and `--no-sign-request`
</span><span style="color:#e6db74">		Returns False if unauthorized listing of objects is set to false 
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		<span style="color:#66d9ef">try</span>:
			response 	<span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>list_objects(Bucket<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>bucket)
			response 	<span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>parseJson(<span style="color:#e6db74">&#34;Contents[].Key&#34;</span>, response)

			<span style="color:#66d9ef">for</span> objects <span style="color:#f92672">in</span> response:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{g}#&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{objects}&#34;</span>)
				sleep(<span style="color:#ae81ff">0.01</span>)

			<span style="color:#66d9ef">return</span>(response)

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;ListObjects&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
				<span style="color:#66d9ef">return</span>(None)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">readableObjects</span>(self, clientCall, bucket, objectsList):
		<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">		Checks in the objects list provided, if the objects are readable
</span><span style="color:#e6db74">		TL;DR if readable: return contentOfObject else: None
</span><span style="color:#e6db74">		&#34;&#34;&#34;</span>
		readableObjs 		<span style="color:#f92672">=</span> []
		<span style="color:#66d9ef">for</span> objects <span style="color:#f92672">in</span> objectsList:

			<span style="color:#66d9ef">try</span>:
				response 	<span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>get_object( Bucket<span style="color:#f92672">=</span>bucket, Key<span style="color:#f92672">=</span>objects )
				response 	<span style="color:#f92672">=</span> response[<span style="color:#e6db74">&#39;ResponseMetadata&#39;</span>][<span style="color:#e6db74">&#39;HTTPStatusCode&#39;</span>]
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{c}#&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{:&lt;65} -~&gt; {}{}&#34;</span><span style="color:#f92672">.</span>format(objects, g, response))
				readableObjs<span style="color:#f92672">.</span>append(objects)
				sleep(<span style="color:#ae81ff">0.01</span>)

			<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
				<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetObject&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
					write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{:&lt;65} -~&gt; {}{}&#34;</span><span style="color:#f92672">.</span>format(objects, r, <span style="color:#ae81ff">403</span>))

		<span style="color:#66d9ef">return</span>(readableObjs)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">uploadObjectOnBucket</span>(self, clientCall, bucketName):
		dataToWrite		<span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#34;Pentesting in Progress&#34;</span>
		keyName 		<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pentest0bject.txt&#39;</span>

		<span style="color:#66d9ef">try</span>:
			response 		<span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>put_object(Body<span style="color:#f92672">=</span>dataToWrite, Bucket<span style="color:#f92672">=</span>bucketName, Key<span style="color:#f92672">=</span>keyName, ACL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;public-read-write&#34;</span>)
			write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{c}@&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;Awesome! We just {g}uploaded{w} our object at {g}{bucketName}/{keyName}&#34;</span>)

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;PutObject&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}failed{w} to upload {r}0bject{w} on the {c}bucket{w} {r}:(&#34;</span>)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fetchObjectsACL</span>(self, clientCall, bucketName, objectsList):
		<span style="color:#66d9ef">for</span> objects <span style="color:#f92672">in</span> objectsList:
			<span style="color:#66d9ef">try</span>:

				<span style="color:#66d9ef">if</span> objects[::<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;/&#34;</span>:
					response 	<span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>get_object_acl(Bucket<span style="color:#f92672">=</span>bucketName, Key<span style="color:#f92672">=</span>objects)
					response 	<span style="color:#f92672">=</span> loads(dumps(response))[<span style="color:#e6db74">&#39;Grants&#39;</span>]
					write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{g}$&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;ACL of </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">{g}{objects}{w}</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">&#34;</span>)
					<span style="color:#66d9ef">print</span>( self<span style="color:#f92672">.</span>prettifyJSON(dumps(response, indent<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)) )
					sleep(<span style="color:#ae81ff">0.01</span>)

			<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
				<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetObjectAcl&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
					write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;ACL of {r}</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">{objects}</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">{w} isn&#39;t accessible!&#34;</span>)

	<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">checkBucketStaticHosting</span>(self, clientCall, bucketName):
		<span style="color:#66d9ef">try</span>:
			response <span style="color:#f92672">=</span> clientCall<span style="color:#f92672">.</span>get_bucket_website(Bucket<span style="color:#f92672">=</span>bucketName)
			<span style="color:#66d9ef">print</span>(response)

		<span style="color:#66d9ef">except</span> botocore<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ClientError <span style="color:#66d9ef">as</span> e:
			<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;AccessDenied&#34;</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#34;GetBucketWebsite&#34;</span> <span style="color:#f92672">in</span> e<span style="color:#f92672">.</span>args[<span style="color:#ae81ff">0</span>]:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;The bucket doesn&#39;t have {r}static hosting{w} enabled!&#34;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
	<span style="color:#66d9ef">print</span>(banner)
	parser 		<span style="color:#f92672">=</span> argparse<span style="color:#f92672">.</span>ArgumentParser(description<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, usage<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#39;{_usage}{b}&#39;</span>)
	parser<span style="color:#f92672">.</span>_optionals<span style="color:#f92672">.</span>title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Basic Help&#34;</span>

	basicFuncs 	<span style="color:#f92672">=</span> parser<span style="color:#f92672">.</span>add_argument_group(f<span style="color:#e6db74">&#39;{g}Actions&#39;</span>)
	basicFuncs<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;--bucket&#39;</span>, 				action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store&#34;</span>, 		dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bucket&#34;</span>, 	 		default<span style="color:#f92672">=</span>False, help<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Bucket to test the script against!&#39;</span>)	
	basicFuncs<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-au&#34;</span>, 	<span style="color:#e6db74">&#34;--authorized&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, 	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;authorized&#34;</span>, 		default<span style="color:#f92672">=</span>False, help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Perform the checks using Access Keys&#34;</span>)
	basicFuncs<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-ua&#34;</span>, 	<span style="color:#e6db74">&#34;--unauthorized&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, 	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;unauthorized&#34;</span>,	default<span style="color:#f92672">=</span>False, help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Perform the checks anonymously!&#34;</span>)
	basicFuncs<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;-a&#39;</span>, <span style="color:#e6db74">&#39;--all&#39;</span>, 				action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, 	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;all&#34;</span>, 	 		default<span style="color:#f92672">=</span>False, help<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;To run all the functions against the bucket!&#39;</span>)

	functions 	<span style="color:#f92672">=</span> parser<span style="color:#f92672">.</span>add_argument_group(f<span style="color:#e6db74">&#39;{y}Functions&#39;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-l&#34;</span>, 	<span style="color:#e6db74">&#34;--location&#34;</span>, 		action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;location&#34;</span>, 		help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Find the Bucket&#39;s Location&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-s&#34;</span>, 	<span style="color:#e6db74">&#34;--static-hosting&#34;</span>, action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;staticHosting&#34;</span>, 	help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finds if the bucket has Static Hosting enabled&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-ba&#34;</span>, 	<span style="color:#e6db74">&#34;--get-acl&#34;</span>, 		action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False, dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;getBucketACL&#34;</span>, 	help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Fetches the ACL of the Bucket&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-pa&#34;</span>, 	<span style="color:#e6db74">&#34;--put-acl&#34;</span>, 		action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;putBucketACL&#34;</span>, 	help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Puts the ACL with FULL_CONTROL on the bucket&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-lb&#34;</span>, 	<span style="color:#e6db74">&#34;--list-bucket&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;listBucket&#34;</span>, 		help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;List the S3 Bucket Objects/Keys&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-r&#34;</span>, 	<span style="color:#e6db74">&#34;--readable-objs&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;read0bjs&#34;</span>, 		help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finds the readable 0bjects/Keys&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-up&#34;</span>, 	<span style="color:#e6db74">&#34;--upload-objs&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upload0bjs&#34;</span>, 		help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Uploads a test 0bject on the S3 Bucket&#34;</span>)
	functions<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;-oa&#34;</span>, 	<span style="color:#e6db74">&#34;--fetch-obj-acl&#34;</span>, 	action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>, default<span style="color:#f92672">=</span>False,	dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;read0bjsACL&#34;</span>, 	help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finds the ACL of Individual 0bjects/Keys&#34;</span>)

	args <span style="color:#f92672">=</span> parser<span style="color:#f92672">.</span>parse_args()
	<span style="color:#66d9ef">if</span> args<span style="color:#f92672">.</span>bucket:
		bucket 			<span style="color:#f92672">=</span> args<span style="color:#f92672">.</span>bucket
		S30bj 			<span style="color:#f92672">=</span> S3(bucket)

		<span style="color:#75715e">#############################################################################</span>

		<span style="color:#66d9ef">if</span> args<span style="color:#f92672">.</span>unauthorized:
			clientCall 		<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>unAuthorizedClientCall()

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>authorized:
			clientCall 		<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>authorizedClientCall()

		<span style="color:#66d9ef">else</span>:
			write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;No flags were specified for API Calls, moving with unauthorized API Calls&#34;</span>)
			clientCall 		<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>unAuthorizedClientCall()

		<span style="color:#75715e">#############################################################################</span>

		<span style="color:#66d9ef">if</span> args<span style="color:#f92672">.</span>location:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finding Location/Region of&#34;</span>, 		bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>c, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>getBucketLocation(bucket)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>staticHosting:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finding Static Web Hosting 0n&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>y, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>checkBucketStaticHosting(clientCall, bucket)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>getBucketACL:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Fetching the ACL of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>g, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>fetchBucketACL(clientCall, bucket)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>putBucketACL:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Trying to 0verwrite the ACL 0f&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>b, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>overWriteBucketACL(clientCall, bucket)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>listBucket:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Listing Objects of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>y, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>listBucket(clientCall)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>read0bjs:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Listing Objects of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>r, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bjs 	<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>listBucket(clientCall)

			<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span>(S30bjs <span style="color:#f92672">==</span> None):
				heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Reading/Fetching 0bjects 0f&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>m, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
				S30bj<span style="color:#f92672">.</span>readableObjects(clientCall, bucket, S30bjs)

			<span style="color:#66d9ef">elif</span> S30bjs <span style="color:#f92672">==</span> None:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}don&#39;t{w} have {r}listing / read objects{w} permissions on the bucket {r}:(&#34;</span>)

			<span style="color:#66d9ef">else</span>:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;No {r}keys/objects{w} found in the S3 bucket: {r}{bucket}&#34;</span>)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>upload0bjs:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Trying to Upload 0bject on&#34;</span>, 		bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>g, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>uploadObjectOnBucket(clientCall, bucket)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>read0bjsACL:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Listing Objects of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>r, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bjs 	<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>listBucket(clientCall)

			<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span>(S30bjs <span style="color:#f92672">==</span> None):
				heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Fetching ACLs 0f&#34;</span>, 			bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>g, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34; 0bjects&#34;</span>)
				S30bj<span style="color:#f92672">.</span>fetchObjectsACL(clientCall, bucket, S30bjs)

			<span style="color:#66d9ef">elif</span> S30bjs <span style="color:#f92672">==</span> None:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}don&#39;t{w} have {r}listing / read objects{w} permissions on the bucket {r}:(&#34;</span>)

			<span style="color:#66d9ef">else</span>:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;No {r}keys/objects{w} found in the S3 bucket: {r}{bucket}&#34;</span>)

		<span style="color:#66d9ef">elif</span> args<span style="color:#f92672">.</span>all:
			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finding Location/Region of&#34;</span>, 		bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>c, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>getBucketLocation(bucket)
			sleep(<span style="color:#ae81ff">0.1</span>)

			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finding Static Web Hosting 0n&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>y, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>checkBucketStaticHosting(clientCall, bucket)
			sleep(<span style="color:#ae81ff">0.1</span>)

			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Fetching the ACL of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>g, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>fetchBucketACL(clientCall, bucket)
			sleep(<span style="color:#ae81ff">0.1</span>)

			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Trying to 0verwrite the ACL 0f&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>b, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bj<span style="color:#f92672">.</span>overWriteBucketACL(clientCall, bucket)
			sleep(<span style="color:#ae81ff">0.1</span>)

			heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Listing Objects of&#34;</span>, 				bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>y, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
			S30bjs 	<span style="color:#f92672">=</span> S30bj<span style="color:#f92672">.</span>listBucket(clientCall)
			sleep(<span style="color:#ae81ff">0.1</span>)

			<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span>(S30bjs <span style="color:#f92672">==</span> None):
				heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Reading/Fetching 0bjects 0f&#34;</span>, 	bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>m, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
				S30bj<span style="color:#f92672">.</span>readableObjects(clientCall, bucket, S30bjs)
				sleep(<span style="color:#ae81ff">0.1</span>)

				heading(heading<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Fetching ACLs 0f&#34;</span>, 			bucket<span style="color:#f92672">=</span>bucket, color<span style="color:#f92672">=</span>g, afterWebHead<span style="color:#f92672">=</span><span style="color:#e6db74">&#34; 0bjects&#34;</span>)
				S30bj<span style="color:#f92672">.</span>fetchObjectsACL(clientCall, bucket, S30bjs)
				sleep(<span style="color:#ae81ff">0.1</span>)

			<span style="color:#66d9ef">elif</span> S30bjs <span style="color:#f92672">==</span> None:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;It seems we {r}don&#39;t{w} have {r}listing / read objects{w} permissions on the bucket {r}:(&#34;</span>)

			<span style="color:#66d9ef">else</span>:
				write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;No {r}keys/objects{w} found in the S3 bucket: {r}{bucket}&#34;</span>)

		<span style="color:#66d9ef">else</span>:
			write(var<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;{r}!&#34;</span>, color<span style="color:#f92672">=</span>w, data<span style="color:#f92672">=</span>f<span style="color:#e6db74">&#34;Please specify an argument to execute! :(&#34;</span>)

		<span style="color:#75715e">#############################################################################</span>

	<span style="color:#66d9ef">else</span>:
		parser<span style="color:#f92672">.</span>print_help()
		exit(footer)

	<span style="color:#66d9ef">print</span>(footer)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
	main()

</code></pre></div>
    </div>
    
      
    


    
      
        

      
    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">UeXploiT</span>
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span>© 2020 <a href="https://twitter.com/syed__umar" target="_blank" rel="noopener">Umar_0x01</a></span>
        <span><a href="https://github.com/Anon-Exploiter/" target="_blank" rel="noopener">Github</a></span>
      </div>
    
  </div>
</footer>





<script src="https://anon-exploiter.github.io/js/menu.js"></script>
<script src="https://anon-exploiter.github.io/js/theme.js"></script>
<script src="https://anon-exploiter.github.io/js/prism.js"></script>


      
    </div>

    
  </body>
</html>
